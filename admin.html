<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin - Create Member Password</title>
<style>
body { background:#001144; color:white; font-family:Arial; display:flex; justify-content:center; align-items:center; height:100vh; }
.admin-box { background:rgba(0,0,0,0.8); padding:30px; border-radius:12px; box-shadow:0 0 20px #00ffff; display:flex; flex-direction:column; align-items:center; }
input, select { margin:10px 0; padding:12px; width:250px; border-radius:6px; border:none; text-align:center; }
button { padding:12px 20px; margin-top:10px; border-radius:6px; border:none; font-weight:bold; cursor:pointer; background:#00ffff; color:#000022; }
</style>
</head>
<body>

<div class="admin-box">
<h1>Create Member Password</h1>
<input type="email" id="email" placeholder="Member Email">
<input type="password" id="password" placeholder="Member Password">
<select id="appSelect">
    <option value="viper-roulette">VIPER ROULETTE</option>
    <option value="app2">APP2</option>
    <option value="app3">APP3</option>
    <option value="app4">APP4</option>
    <option value="app5">APP5</option>
    <option value="app6">APP6</option>
    <option value="app7">APP7</option>
    <option value="app8">APP8</option>
    <option value="app9">APP9</option>
    <option value="app10">APP10</option>
</select>
<input type="date" id="expireDate">
<button id="createBtn">Create Member</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js"></script>
<script src="firebase.js"></script>

<script>
const auth = firebase.auth();
const db = firebase.firestore();

document.getElementById('createBtn').addEventListener('click', async ()=>{
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const app = document.getElementById('appSelect').value;
    const expire = document.getElementById('expireDate').value;
    if(!email||!password||!app||!expire){ alert("Fill all fields"); return; }

    try {
        // Create Firebase Auth user
        const userCredential = await auth.createUserWithEmailAndPassword(email,password);
        const uid = userCredential.user.uid;

        // Add Firestore info
        await db.collection("memberPasswords").doc(uid).set({
            app: app,
            password: password,
            expiresAt: new Date(expire)
        });
        alert("Member created successfully!");
    } catch(err){ alert(err.message); }
});
</script>

</body>
</html>
